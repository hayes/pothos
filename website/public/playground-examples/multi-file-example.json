{
  "id": "multi-file-example",
  "title": "Multi-File Example",
  "description": "Example with multiple TypeScript and GraphQL files",
  "tags": ["advanced", "multi-file"],
  "files": [
    {
      "filename": "schema.ts",
      "content": "import { builder } from './builder'\nimport type { Post } from './types';\nimport { posts, users } from './types';\n\n// Define the User type\nbuilder.objectType('User', {\n  fields: (t) => ({\n    id: t.exposeID('id'),\n    name: t.exposeString('name'),\n    email: t.exposeString('email'),\n    posts: t.field({\n      type: ['Post'],\n      resolve: (user) => user.posts,\n    }),\n  }),\n});\n\n// Define the Post type\nbuilder.objectType('Post', {\n  fields: (t) => ({\n    id: t.exposeID('id'),\n    title: t.exposeString('title'),\n    content: t.exposeString('content'),\n    author: t.field({\n      type: 'User',\n      nullable: true,\n      resolve: (post) => post.author || null,\n    }),\n  }),\n});\n\n// Define the Query type\nbuilder.queryType({\n  fields: (t) => ({\n    users: t.field({\n      type: ['User'],\n      resolve: () => users,\n    }),\n    user: t.field({\n      type: 'User',\n      nullable: true,\n      args: {\n        id: t.arg.id({ required: true }),\n      },\n      resolve: (_, { id }) => users.find((u) => u.id === id) || null,\n    }),\n    posts: t.field({\n      type: ['Post'],\n      resolve: () => posts,\n    }),\n    post: t.field({\n      type: 'Post',\n      nullable: true,\n      args: {\n        id: t.arg.id({ required: true }),\n      },\n      resolve: (_, { id }) => posts.find((p) => p.id === id) || null,\n    }),\n  }),\n});\n\n// Define the Mutation type\nbuilder.mutationType({\n  fields: (t) => ({\n    createPost: t.field({\n      type: 'Post',\n      args: {\n        title: t.arg.string({ required: true }),\n        content: t.arg.string({ required: true }),\n        authorId: t.arg.id({ required: true }),\n      },\n      resolve: (_, { title, content, authorId }) => {\n        const author = users.find((u) => u.id === authorId);\n        if (!author) {\n          throw new Error('Author not found');\n        }\n\n        const newPost: Post = {\n          id: String(posts.length + 1),\n          title,\n          content,\n          authorId,\n          author,\n        };\n\n        posts.push(newPost);\n        author.posts.push(newPost);\n\n        return newPost;\n      },\n    }),\n  }),\n});\n\n// Build and export the schema\nexport const schema = builder.toSchema();\n",
      "language": "typescript"
    },
    {
      "filename": "builder.ts",
      "content": "import SchemaBuilder from '@pothos/core';\nimport type { Post, User } from './types';\n\n// Create the schema builder\nexport const builder = new SchemaBuilder<{\n  Objects: {\n    User: User;\n    Post: Post;\n  };\n}>({});\n",
      "language": "typescript"
    },
    {
      "filename": "types.ts",
      "content": "// Shared types used across the schema\n\nexport interface User {\n  id: string;\n  name: string;\n  email: string;\n  posts: Post[];\n}\n\nexport interface Post {\n  id: string;\n  title: string;\n  content: string;\n  authorId: string;\n  author?: User;\n}\n\n// Mock data store\nexport const users: User[] = [\n  {\n    id: '1',\n    name: 'Alice',\n    email: 'alice@example.com',\n    posts: [],\n  },\n  {\n    id: '2',\n    name: 'Bob',\n    email: 'bob@example.com',\n    posts: [],\n  },\n];\n\nexport const posts: Post[] = [\n  {\n    id: '1',\n    title: 'Hello Pothos',\n    content: 'This is my first post about Pothos!',\n    authorId: '1',\n  },\n  {\n    id: '2',\n    title: 'GraphQL is awesome',\n    content: 'Building schemas with Pothos is a great experience.',\n    authorId: '1',\n  },\n  {\n    id: '3',\n    title: 'Type safety rocks',\n    content: 'Full type safety makes development so much better.',\n    authorId: '2',\n  },\n];\n\n// Link posts to users\nusers[0].posts = posts.filter((p) => p.authorId === '1');\nusers[1].posts = posts.filter((p) => p.authorId === '2');\nposts.forEach((post) => {\n  post.author = users.find((u) => u.id === post.authorId);\n});\n",
      "language": "typescript"
    }
  ],
  "defaultQuery": "# Create a new post\nmutation CreatePost {\n  createPost(\n    title: \"My New Post\"\n    content: \"This is the content of my new post\"\n    authorId: \"1\"\n  ) {\n    id\n    title\n    content\n    author {\n      id\n      name\n    }\n  }\n}\n",
  "queries": [
    {
      "title": "mutations",
      "query": "# Create a new post\nmutation CreatePost {\n  createPost(\n    title: \"My New Post\"\n    content: \"This is the content of my new post\"\n    authorId: \"1\"\n  ) {\n    id\n    title\n    content\n    author {\n      id\n      name\n    }\n  }\n}\n"
    },
    {
      "title": "queries",
      "query": "# Query all users with their posts\nquery GetAllUsers {\n  users {\n    id\n    name\n    email\n    posts {\n      id\n      title\n    }\n  }\n}\n\n# Query a specific user\nquery GetUser {\n  user(id: \"1\") {\n    id\n    name\n    email\n    posts {\n      id\n      title\n      content\n    }\n  }\n}\n\n# Query all posts with authors\nquery GetAllPosts {\n  posts {\n    id\n    title\n    content\n    author {\n      id\n      name\n    }\n  }\n}\n"
    },
    {
      "title": "query-posts",
      "query": "# Query all posts with authors\nquery GetAllPosts {\n  posts {\n    id\n    title\n    content\n    author {\n      id\n      name\n    }\n  }\n}\n"
    },
    {
      "title": "query-user",
      "query": "# Query a specific user\nquery GetUser {\n  user(id: \"1\") {\n    id\n    name\n    email\n    posts {\n      id\n      title\n      content\n    }\n  }\n}\n"
    },
    {
      "title": "query-users",
      "query": "# Query all users with their posts\nquery GetAllUsers {\n  users {\n    id\n    name\n    email\n    posts {\n      id\n      title\n    }\n  }\n}\n"
    }
  ]
}
