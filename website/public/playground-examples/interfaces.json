{
  "id": "interfaces",
  "title": "Interfaces & Unions",
  "description": "Using interfaces and union types",
  "tags": [],
  "files": [
    {
      "filename": "schema.ts",
      "content": "import SchemaBuilder from '@pothos/core';\n\nconst builder = new SchemaBuilder({});\n\n// Define an interface\nconst Node = builder.interfaceRef<{ id: string }>('Node');\n\nbuilder.interfaceType(Node, {\n  fields: (t) => ({\n    id: t.exposeID('id'),\n  }),\n});\n\n// Types implementing the interface\ntype UserShape = { id: string; name: string; email: string };\ntype PostShape = { id: string; title: string; content: string };\n\nconst User = builder.objectRef<UserShape>('User');\nconst Post = builder.objectRef<PostShape>('Post');\n\nbuilder.objectType(User, {\n  interfaces: [Node],\n  fields: (t) => ({\n    name: t.exposeString('name'),\n    email: t.exposeString('email'),\n  }),\n});\n\nbuilder.objectType(Post, {\n  interfaces: [Node],\n  fields: (t) => ({\n    title: t.exposeString('title'),\n    content: t.exposeString('content'),\n  }),\n});\n\n// Union type\nconst SearchResult = builder.unionType('SearchResult', {\n  types: [User, Post],\n  resolveType: (value) => {\n    if ('email' in value) return User;\n    return Post;\n  },\n});\n\nbuilder.queryType({\n  fields: (t) => ({\n    node: t.field({\n      type: Node,\n      nullable: true,\n      args: { id: t.arg.id({ required: true }) },\n      resolve: (_, { id }) => ({ id: String(id), name: 'Test', email: 'test@example.com' }),\n    }),\n    search: t.field({\n      type: [SearchResult],\n      args: { query: t.arg.string({ required: true }) },\n      resolve: () => [\n        { id: '1', name: 'John', email: 'john@example.com' },\n        { id: '2', title: 'Hello World', content: 'Welcome!' },\n      ],\n    }),\n  }),\n});\n\nexport const schema = builder.toSchema();",
      "language": "typescript"
    }
  ],
  "defaultQuery": "query {\n  search(query: \"test\") {\n    ... on User {\n      id\n      name\n      email\n    }\n    ... on Post {\n      id\n      title\n      content\n    }\n  }\n}",
  "queries": [
    {
      "title": "query",
      "query": "query {\n  search(query: \"test\") {\n    ... on User {\n      id\n      name\n      email\n    }\n    ... on Post {\n      id\n      title\n      content\n    }\n  }\n}"
    }
  ]
}
