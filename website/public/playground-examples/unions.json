{
  "id": "unions",
  "title": "Union Types",
  "description": "Define union types for polymorphic results",
  "tags": [],
  "files": [
    {
      "filename": "schema.ts",
      "content": "import SchemaBuilder from '@pothos/core';\n\nconst builder = new SchemaBuilder({});\n\n// Define result types\nconst SuccessResult = builder.objectRef<{\n  __typename: 'SuccessResult';\n  message: string;\n}>('SuccessResult');\n\nconst ErrorResult = builder.objectRef<{\n  __typename: 'ErrorResult';\n  error: string;\n  code: number;\n}>('ErrorResult');\n\nbuilder.objectType(SuccessResult, {\n  fields: (t) => ({\n    message: t.exposeString('message'),\n  }),\n});\n\nbuilder.objectType(ErrorResult, {\n  fields: (t) => ({\n    error: t.exposeString('error'),\n    code: t.exposeInt('code'),\n  }),\n});\n\n// Create a union type\nconst Result = builder.unionType('Result', {\n  types: [SuccessResult, ErrorResult],\n  resolveType: (value) => {\n    if (value.__typename === 'SuccessResult') {\n      return SuccessResult;\n    }\n    return ErrorResult;\n  },\n});\n\nbuilder.queryType({\n  fields: (t) => ({\n    doSomething: t.field({\n      type: Result,\n      args: {\n        shouldSucceed: t.arg.boolean({ required: true }),\n      },\n      resolve: (_, args) => {\n        if (args.shouldSucceed) {\n          return {\n            __typename: 'SuccessResult' as const,\n            message: 'Operation completed successfully!',\n          };\n        }\n        return {\n          __typename: 'ErrorResult' as const,\n          error: 'Something went wrong',\n          code: 500,\n        };\n      },\n    }),\n  }),\n});\n\nexport const schema = builder.toSchema();",
      "language": "typescript"
    }
  ],
  "defaultQuery": "query {\n  success: doSomething(shouldSucceed: true) {\n    ... on SuccessResult {\n      message\n    }\n    ... on ErrorResult {\n      error\n      code\n    }\n  }\n  failure: doSomething(shouldSucceed: false) {\n    ... on SuccessResult {\n      message\n    }\n    ... on ErrorResult {\n      error\n      code\n    }\n  }\n}",
  "queries": [
    {
      "title": "query",
      "query": "query {\n  success: doSomething(shouldSucceed: true) {\n    ... on SuccessResult {\n      message\n    }\n    ... on ErrorResult {\n      error\n      code\n    }\n  }\n  failure: doSomething(shouldSucceed: false) {\n    ... on SuccessResult {\n      message\n    }\n    ... on ErrorResult {\n      error\n      code\n    }\n  }\n}"
    }
  ]
}
